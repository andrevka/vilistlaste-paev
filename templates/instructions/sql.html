{% extends "base.html" %}

{% block title %}SQL ja ORM{% endblock %}

{% block content %}

<h1 class="text-2xl font-bold mb-6">SQL ja ORM</h1>

<div class="bg-white shadow-lg rounded-xl p-6">

    <h2 class="text-xl font-bold mt-6 mb-4">SQL</h2>

    <p>SQL (Structured Query Language) on standardiseeritud keel andmebaaside haldamiseks ja päringute tegemiseks. SQL-i kasutatakse andmete sisestamiseks, muutmiseks ja kustutamiseks, samuti andmete pärimiseks ja analüüsimiseks.</p>

    <p class="mb-4">SQL-i põhikäsud hõlmavad:</p>
    <ul class="list-disc mb-4 pl-6">
        <li><strong>SELECT</strong> - andmete pärimiseks andmebaasist</li>
        <li><strong>INSERT</strong> - uute andmete lisamiseks andmebaasi</li>
        <li><strong>UPDATE</strong> - olemasolevate andmete muutmiseks</li>
        <li><strong>DELETE</strong> - andmete kustutamiseks andmebaasist</li>
        <li><strong>CREATE TABLE</strong> - uue tabeli loomiseks andmebaasis</li>
        <li><strong>DROP TABLE</strong> - tabeli kustutamiseks andmebaasist</li>
    </ul>

    <p class="mb-4">Näidis andmebaasi struktuur:</p>
    <pre class="bg-gray-100 p-4 rounded language-sql">
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    age INT
);
    </pre>

    <p class="mb-4">Näidis päring:</p>
    <pre class="bg-gray-100 p-4 rounded language-sql">
SELECT * FROM users WHERE age > 30;
    </pre>

    <h2 class="text-xl font-bold mt-6 mb-4">ORM (Object-Relational Mapping)</h2>

    <p class="mb-4">ORM (Object-Relational Mapping) on tehnika, mis võimaldab arendajatel töötada andmebaasidega objektorienteeritud viisil. ORM-i abil saab andmebaasi tabelid ja read kaardistada programmeerimiskeele objektideks, muutes andmete haldamise ja pärimise lihtsamaks ja intuitiivsemaks.</p>

    <p class="mb-4">ORM puhul defineerime deklaratiivselt millised andmed hakkavad olema andmebaasis ja millised on nende omavahelised seosed. Seejärel kasutame ORM-i pakutavaid meetodeid, et luua, lugeda, uuendada ja kustutada andmeid ilma otseselt SQL-i kirjutamata.</p>

    <p class="mb-4">Näidis ORM mudel Pythoni SQLAlchemy kasutades:</p>
    <pre class="bg-gray-100 p-4 rounded language-python"><code>from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class User(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100))
    age = db.Column(db.Integer)</code></pre>

    <p class="mb-4">Sama funktsionaalsus aga ORM-iga:</p>
    <pre class="bg-gray-100 p-4 rounded language-python"><code>user = User(name="John", age=35)
db.session.add(user)
db.session.commit()</code></pre>

</div>

{% endblock %}