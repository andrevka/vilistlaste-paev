# Validation
if not username or not password:
    return render_template("signup.html", error="Please fill in all fields.")

if password != confirm:
    return render_template("signup.html", error="Passwords do not match.")

if User.query.filter_by(username=username).first():
    return render_template("signup.html", error="Username already taken.")

db.session.add(User(username=username, password=password, email=email))
db.session.commit()
